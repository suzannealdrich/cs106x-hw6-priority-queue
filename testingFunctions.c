/* * File: testingFunctions.c * ----------------------------------------------------- * Implementation file for the the module which test the * different operations of a queueADT.   */#include "genlib.h"#include "testingFunctions.h"#include "simpio.h"#include "random.h"static string BoolToString(bool value);static bool ArrayIsSorted(int array[], int size);/* * Function: BasicQueueTest * ------------------------- * Runs a test of the queueADT focusing on simple insert and extract. * Reports results of test to stdout. */void BasicQueueTest(void){	pqueueADT queue;	int i;		printf("\n-----------   Testing Basic Queue functions -----------\n");	queue = NewPriorityQueue();	printf("The queue was just created.  Is it empty?  %s\n", BoolToString(IsEmpty(queue)));		for (i = 1; i <= 10; i++)		Insert(queue,i);	printf("\nInserted the integers from 1 to 10 (in forward order)\n");		printf("Queue should not be empty.  Is it? %s\n", BoolToString(IsEmpty(queue)));	printf("Extracting the top 5 elements: ");	for (i = 0; i < 5; i++)		printf("%d ", ExtractMax(queue));			printf("\nExtracting all the rest: ");	while (!IsEmpty(queue))		printf("%d ", ExtractMax(queue));	printf("\nQueue should be empty.  Is it?  %s\n", BoolToString(IsEmpty(queue)));	FreeQueue(queue);	printf("\nReady to go on? ");	GetLine();}/* * Function: MoreQueueTest * ----------------------- * More testing of the queueADT. * Reports results of test to stdout. */void MoreQueueTest(void){	pqueueADT queue;	int i;		printf("\n-----------   More queue testing functions -----------\n");	queue = NewPriorityQueue();	printf("\nInserting the integers from 1 to 15 (in reverse order)\n");	for (i = 15; i > 0; i--)		Insert(queue,i);		printf("\nInserting duplicates for evens from 2 to 14\n");	for (i = 0; i < 15; i+= 2)		Insert(queue,i);		printf("Extracting the top 10 elements:");	for (i = 0; i < 10; i++)		printf("%d ", ExtractMax(queue));			printf("\nExtracting all the rest:");	while (!IsEmpty(queue))		printf(" %d ", ExtractMax(queue));	printf("\nQueue should be empty.  Is it?  %s\n", BoolToString(IsEmpty(queue)));	// This next test should cause your program to halt with an error.	// Once you've verified that your queue correctly catches this error	// you should comment out these lines, so that you can continue on	// with the other tests.	//printf("\nThis next test should raise an error if your queue is working correctly.\n");	//printf("Once you verify that, comment this line out to get on with the other tests.\n");	//printf("Extract from empty queue returns %d\n", ExtractMax(queue));	FreeQueue(queue);	printf("\nReady to go on? ");	GetLine();}/* * Function: AnotherQueueTest * -------------------------- * More testing of the queueADT, focusing on the special Search/Delete functions * Reports results of test to stdout. */void AnotherQueueTest(void){	pqueueADT queue;	int i;		printf("\n-----------   Testing Search/Delete -----------\n");	queue = NewPriorityQueue();	printf("\nInserting the integers from 1 to 6\n");	for (i = 1; i <= 6; i++)		Insert(queue,i);		printf("Searching for 2, which should be found.  Is it? %s\n", 		(BoolToString(Search(queue, 2) != NOT_FOUND)));			printf("Searching for 12, which should not be found.  Is it? %s\n", 		(BoolToString(Search(queue, 12) != NOT_FOUND)));	printf("\nDeleting all the even numbers from 2 to 6\n");	for (i = 2; i <= 6; i+= 2)		printf("Deleting elem %d, got result %d (should be %d)\n", i, Delete(queue,i), i);			printf("\nNow delete the odd numbers:\n");	for (i = 1; i <= 5; i+= 2)		printf("Deleting elem %d, got result %d (should be %d)\n", i, Delete(queue,i), i);	printf("Queue should be empty.  Is it?  %s\n", BoolToString(IsEmpty(queue)));	printf("\nSearching an empty queue for 10, which should not be found.  Is it? %s\n", 		(BoolToString(Search(queue, 10) != NOT_FOUND)));			printf("Insert 3 duplicates of number 10.\n");	for (i = 0; i < 3; i++)		Insert(queue,10);	printf("Delete all occurrences of number 10 using a loop.\n");	while (Search(queue, 10) != NOT_FOUND) 		Delete(queue, 10);			printf("Queue should be empty.  Is it?  %s\n", BoolToString(IsEmpty(queue)));	FreeQueue(queue);	printf("\nReady to go on? ");	GetLine();}/* * Function: SortTest * ------------------ * Tests the use of the priority queue to implement a Heapsort algorithm.  Inserts * a bunch of values into queue and then pull them out using ExtractMax to arrange in * array in sorted order.  Tries it with random data inserted and then 2 more times * with data inserted in sorted order (both forward and backward). */void SortTest(void){	pqueueADT queue;	int i;	int array[200];		printf("\n-----------   Testing use of queue to sort  -----------\n");	queue = NewPriorityQueue();		printf("Inserting 200 numbers into queue in increasing order.\n");	for (i = 0; i < 200; i++) array[i] = i;	Heapsort(queue, array, 200);	printf("Using extract to pull out numbers in sorted order.  Did it work? %s\n",		BoolToString(ArrayIsSorted(array, 50)));	printf("Inserting 200 random values into the queue.\n");	for (i = 0; i < 200; i++) array[i] = RandomInteger(1, 1000);	Heapsort(queue, array, 200);	printf("Using extract to pull out numbers in sorted order.  Did it work? %s\n",		BoolToString(ArrayIsSorted(array, 200)));		FreeQueue(queue);	printf("\nReady to go on? ");	GetLine();}/* * Function: Heapsort * ------------------ * Uses the priority queue to implement a Heapsort algorithm.  Inserts all * values in the array into the queue and then pulls them out with ExtractMax * and assigns back into array in increasing sorting order.  Depending on * the running times of the underlying queueADT, this can be a pretty * decent sorting algorithm. */void Heapsort(pqueueADT queue, int array[], int size){	int i;		for (i = 0; i < size; i++)			Insert(queue,array[i]);	for (i = 0; i < size; i++)		array[size-i-1] = ExtractMax(queue);}// Predicate to verify array is sorted in increasing orderstatic bool ArrayIsSorted(int array[], int size){	int i;		for (i = 0; i < size -1; i++)			if (array[i] > array[i+1]) return FALSE;	return TRUE;}// Converts boolean value to string for printing purposesstatic string BoolToString(bool value){    return (value ? "Yes." :"No.");}